<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>NebulaSuit: An Upper-Body High-Density Vibrotactile Suit Built With Scalable Hardware Solutions</title>

    <meta name="description" content="NebulaSuit: An Upper-Body High-Density Vibrotactile Suit Built With Scalable Hardware Solutions">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- <base href="/"> -->

    <!--     <link rel="apple-touch-icon" href="apple-touch-icon.png"> -->
    <!-- <link rel="icon" type="image/png" href="img/seal_icon.png"> -->

    <link href="//cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/codemirror.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <link rel="stylesheet" href="css/app.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/codemirror.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.3/clipboard.min.js"></script>

    <!--script src="js/app.js"></script-->

    <style>
        .nav-pills {
            position: relative;
            display: inline;
        }

        .imtip {
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>

    <link rel="stylesheet" href="./css/bulma.min.css">
    <link rel="stylesheet" href="./css/bulma-carousel.min.css">
    <link rel="stylesheet" href="./css/bulma-slider.min.css">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/fontawesome.all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script defer src="./js/fontawesome.all.min.js"></script>
    <script src="./js/bulma-carousel.min.js"></script>
    <script src="./js/bulma-slider.min.js"></script>
    <script src="./js/index.js"></script>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5JBS73F70V"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-5JBS73F70V');
</script>

<body>
    <div class="container" id="main">
        <div class="row mt-4">
            <h2 class="col-md-12 text-center">
                <b>
                    <font size="+6">NebulaSuit: An Upper-Body High-Density Vibrotactile <br>Suit Built With Scalable Hardware Solutions </br></font>
                </b>
            </h2>
        </div>

        <div class="row">
            <div class="col-md-12 text-center">
                <ul class="list-inline">
                    <br>
                    <li>Bingjian Huang</li>
                    <li>Hanfeng Cai</li>
                    <li>Siyi Ren</li>
                    <li>Yeqi Sang</li>
                    <li>Qilong Cheng</li>
                    <li>Renjie Fang</li>
                    <li>Helen Liang</li>
                    <li>Paul H Dietz</li>
                    <li>Danial Wigdor</li>
                    <br>
                    <br>
                </ul>
            </div>
        </div>

        <div style="text-align: center;">
            <iframe width="640" height="360" src="https://www.youtube.com/embed/BGc5lPs--7M?si=tOsGg-CElwGLd9UZ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <section class="section">
            <div class="container is-max-desktop">
                <div class="columns is-centered has-text-centered">
                    <div class="column is-four-fifths">
                        <h2 class="title is-3">Abstract</h2>
                        <div class="content has-text-justified">
                            <p class="text-justify">
                                Vibrotactile systems are widely used in various applications. 
However, existing systems remain low in scalability and density. Vibrotactile feedback has not yet revealed its potential in large-scale and high-density applications. 
In this paper, we introduced NebulaSuit, a high-density upper-body suit featuring 124 vibrotactile actuators. With scalable design solutions such as self-contained vibration units and chain-connection topology, it supports high-bandwidth and low-latency communication, enabling fine-grained control of vibration parameters for each actuator. 
This page illustrates the high-level structure, vibration unit design, inter-unit communication, backpack, and garment design. 
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

        <section class="section">
            <div class="container is-max-desktop">
                <div class="columns is-centered has-text-centered">
                    <div class="column is-four-fifths">
                        <h2 class="title is-3">High-level Structure</h2>
                        <div class="content has-text-justified">
                            <p class="text-justify">
                                NebulaSuit incorporated 124 vibration units, a central backpack and a custom-tailored shirt. 
                                The system employed the chain-connection topology, wherein the central control board in the backpack 
                                supported up to 12 chain connections. Currently, the 124 units are grouped into eight chains:
                                 40 small vibration units located on each arm were grouped into four chains, 20 large vibration 
                                 units located in the front were two chains, and 24 large units located on the back were two chains.
                                  The detailed chained connection were illustrated below. 
                                  The inter-unit communication was through a custom-designed UART protocol.

The spacing between vibration units mainly referenced spatial acuity results from the <a href="https://dl.acm.org/doi/abs/10.1145/3432189">VibroMap</a> because it provided comprehensive measurements of localization errors on different body parts. Taking the overall prototype weight into account, we finalized the inter-motor distances as 4cm on the arm and 10cm on the body trunk. This spacing did not strictly reach the human resolution, but was good enough to show the potential of high-density systems.

                    <p style="text-align:center;">
                        <image src="img/overview.png" width="100%" height="100%">
                    </p>

                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section class="section">
            <div class="container is-max-desktop">
                <div class="columns is-centered has-text-centered">
                    <div class="column is-four-fifths">
                        <h2 class="title is-3">Vibration Unit Design</h2>
                        <div class="content has-text-justified">
                            <p class="text-justify">
                                <strong style="font-size: 20px;">1. Choice of Vibrotactile Actuators.</strong> Each vibration unit consists of a vibrotactile actuator, a custom designed PCB board,
                                 and 3D printed enclosures. As mentioned above, small and large vibration units were used 
                                 respectively for the arm and the body. However, both units shared similar electrical and 
                                 mechanical designs except different vibrotactile actuators.
                                <br>
                                 Two types of vibrotactile actuators were used for the vibration unit design to accommodate the
                                  tactile perception difference between the arm and the body trunk, i.e., spatial acuity and perceived
                                   intensity. Prior work <a href="https://dl.acm.org/doi/abs/10.1145/3432189">VibroMap</a> has shown that the arm had better spatial acuity
                                    than the body. Additionally, the subjective intensity of vibrotactile stimuli on the arm was lower 
                                    than that of the body.
                                <br>
                                A small Linear Resonant Actuator (LRA) was chosen for the arm vibration unit, 
                                manufactured by <a href="https://www.vybronics.com">Jinlong Machinery and Electronics</a>. (Model# = L959535). 
                                It was an X-axis square-shaped 9.5 millimeters x 9.5 millimeters
                                  LRA. Its resonant frequency is 170 Hz. When powered by 0.9 Vrms, it had a maximum current 
                                  of 145 mArms, and an acceleration of 0.65Â±0.12 Grms. A large Voice Coil Actuator (VCA) was chosen for
                                   the body vibration unit, manufactured by <a href="https://puiaudio.com/product/haptics/hd-va3222\cite{PUIAudio}">PUI Audio</a>, (Model# = HD-VA3222). 
                                   It was 32mmx22mm and had a wide range of frequency response from 80-500 Hz. When driven by 133Hz 
                                   1.5Vrms signal, it had a maximum acceleration of 2.52 Gp-p.
                                <br>

                                <strong style="font-size: 20px;">2. Electrical Design.</strong> Each vibration unit had its own driver PCB board to receive UART commands from the
                                central board and provided fine-grained control over vibration parameters. The driver board included a PIC16F18313
                                Microcontroller Unit (MCU), a DRV8837 H-bridge motor driver, two 4-pin JST-SH headers, two pogo pins, and some
                                supportive components. The MCU was used as the central processor to transmit commands and generate
                                waveforms. The JST headers were used as input and output for the power and signal connections. The pogo pins were
                                mounted on the bottom side to make direct contact with the actuator pads. When the MCU received a "start" signal, it
                                sent waveform to the H-bridge to directly modulate the actuator. The MCU had fine-grained control over
                                intensity, frequency and waveform.
                                <p style="text-align:center;">
                                    <image src="img/circuit.png" width="100%" height="100%">
                                </p>
                                <br>
                                <strong style="font-size: 20px;">3. Mechanical Design.</strong>The functions of the 3D-printed enclosure were to the vibrotactile actuator and PCB board stably and provide garment attaching method.
                                <br>
                                The enclosure consisted of four parts: cap, PCB mount, cylindrical enclosure, and bottom ring (Figure above):
                                <ul>
                                    <li>The cap employed a screw-nut fastening system, adding top-down pressure to stablize the PCB board.</li>
                                    <li>The PCB mount offered protection for the PCB, and aligned the pogo pins directly with the pads of the actuator.
                                         This improved the robustness of the vibration unit as no soldering was required during the assembly.</li>
                                    <li>The cylindrical enclosure served as a protective housing for all parts.
                                         It had two holes designated for JST connectors as well as two asymmetrically positioned vents for passive heat dissipation.</li>
                                    <li>The bottom ring was positioned beneath the fabric suit layers to have direct contact with the skin. When attached to the cylindrical enclosure,
                                         these two parts were secured at the intended cloth position. This avoids any stitching or sewing in the assembly.
                                    
                                    </li>
                                </ul>
                                The overall structure of the 3D-printed enclosure for large vibration units is similar to the small one, with cap, rectangular enclosure,
                                 and bottom ring. We did not design a PCB mount for the larger PCB board as it could press fit into the enclosure.
                            </p>
                            <p style="text-align:center;">
                                <image src="img/blow_up.png" width="100%" height="100%">
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <div class="container is-max-desktop">
            <div class="columns is-centered has-text-centered">
                <div class="column is-four-fifths">
                    <h3 class="title is-3">Inter-unit Communication</h3>
                    <div class="content has-text-justified">
                        <p class="text-justify">
                            Former attempts to build large-scale systems that relied on the star-shaped and tree-shaped topology 
                            often resulted in pin shortages, redundant wirings, and reduced robustness. To solve these problems, 
                            we designed a chain-connected topology (Figure below) to minimize wiring complexity
                             and allow fine-grained control of individual units. We also created a two-byte UART protocol to further 
                             support high-bandwidth communication. 
                             <br>
                             As mentioned in electrical design, each vibration unit had two four-pin JST connectors: TX/RX, 
                             GND (ground), +5V, and VCC. TX/RX was used to receive and transmit UART data. The GND (ground) 
                             and +5V lines were shared across all vibration units on a chain, providing the stable power supply
                              for the PIC16F18313 MCUs. VCC was a separate power supply line for driving the actuator with varying
                               voltages. Since each vibration unit was only directly connected to the two units before and after itself,
                                the wiring complexity was significantly lower than star-shaped topology.

                        </p>
                        <p style="text-align:center;">
                            <image src="img/topology.png" width="100%" height="100%">
                        </p>
                        <p class="text-justify">
                            The UART protocol transmitted two-byte messages at a baud rate of 115.2k Hz with parity check bits 
                            (Figure below). The first-byte message contained the address of the board currently
                             under control, and a single bit that toggled its start or stop. To initiate a command, the central 
                             control board sent the address byte as the first byte to the specific chain of motors where the board
                              was present. Upon receiving the data, if a non-zero address was received, the unit motor driver board
                               knew the command was not for itself so it subtracted "1" from the address and transmitted the message 
                               to the next unit motor driver board until the address became "0" and the unit motor driver board with
                                the correct address received the message. If the received address was 0 and the "start/stop" bit was 
                                "1" (START), it waited to receive a second-byte message. If the received address was 0 and the 
                                "start/stop" bit was "1" (STOP), it disabled its motor. In this way, although all unit driver boards 
                                were loaded with the same code, we effectively created a unique address for each of them and were 
                                able to provide independent control.

                        </p>
                        <p style="text-align:center;">
                            <image src="img/uart.png" width="60%" height="60%">
                        </p>
                        <p class="text-justify">
                            When a unit was "addressed", it waited for the second-byte message, which contained details about the mode
                             of operation for the addressed unit motor driver board, including the frequency, duty cycle, and wave-form
                              for each unit motor driver board. The system enabled each motor to be independently controlled across 4 
                              frequencies (i.e., 90 Hz, 140 Hz, 180 Hz, and 240 Hz), 16 duty cycles (i.e., 0000 - 1111 with 16-bit resolution), 
                              and two wave-forms (i.e., square and sine PWM). 
                              <br>
                              The multi-chain topology used within the NebulaSuit did introduce potential transmission latency. 
                              Since each unit motor driver board needed to receive, process, and potentially resend commands to 
                              the next unit motor driver board in the chain, latency accumulates within unit motor driver boards
                               at the ends of chains. Technical evaluation conducted with an oscilloscope indicated that the transmission 
                               delay between two vibration units averaged 125us. Since the longest chain in Nebula consisted of one power
                                converter and 20 vibration units, the overall delay from the first unit to the last unit was around 2.6ms,
                                 which was virtually imperceptible within the scope of human perceptual distinguishment of 
                                 <a href="https://link.springer.com/content/pdf/10.3758/BF03205793.pdf">temporal difference</a>.
                        </p>
                        <p style="text-align:center; margin-top: 50px;" />
                        <p style="text-align:center;">
                            <image src="img/transmission.png" width="90%" height="90%">
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="container is-max-desktop">
            <div class="columns is-centered has-text-centered">
                <div class="column is-four-fifths">
                    <h3 class="title is-3">Backpack Design</h3>
                    <div class="content has-text-justified">
                        <p class="text-justify">
                            A compact 3D-printed backpack was affixed to the upper back of the garment. It functioned as the central control unit, 
                            converting external Bluetooth signals to serial commands for each vibration unit and helping regulate the VCC 
                            power supply voltage for each chain. This 3D printed backpack contains a central control PCB board and eight 
                            power converters (twelve for maximum).
                            <br>
                            The central control board drew power from two 3.7V 10500mAh LiPo batteries connected in series. 
                            It stabilized the voltage at 5V through an low-dropout regulator (LDO) to power all MCUs in the system.
                             It also direct the 7.4V power supply to power converter board for subsequent voltage regulation. The board had 
                             12 chain connection ports, each beginning with one power converter that controlled the input voltage for actuators, 
                             followed by subsequent vibration units. An <a href="https://www.adafruit.com/product/5400">Adafruit Feather ESP32 V2 board</a> was attached to 
                             the female sockets on the board, responsible for receiving external Bluetooth commands, converting them to serial 
                             commands, and forwarding to the corresponding chains.
                             <br>
                            The power converter board was designed to regulate the VCC input voltage on each chain, offering
                            another layer of intensity control for vibration units. This board was a customized DC-DC buck 
                            converter that stepped down voltage from 7.4V input to its designated output level, using transistors
                             and inductors. Noted that the power converter board used the same MCU (PIC16F18313) for generating 
                             PWM signals. Therefore, it could receive and transmit serial commands like the vibration units. 
                             The central control board could treat the power converter as a "vibration unit" when sending commands.
                             The only difference was that in the two-byte protocol, the second byte was exclusively used for voltage control.
                             <br>
                            Combining the central control board, the power converters, and vibration units, we established a chain-connection 
                            topology that provided low-latency and fine-grained control over vibration parameters for each vibration unit.
                             Meanwhile, this multi-chain connection topology also significantly simplified wiring and reduced the number of 
                             control pins required on the ESP32 MCU.
                        <p style="text-align:center; margin-top: 50px;" />
                        <p style="text-align:center;">
                            <image src="img/backpack.png" width="90%" height="90%">
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="container is-max-desktop">
            <div class="columns is-centered has-text-centered">
                <div class="column is-four-fifths">
                    <h3 class="title is-3">Garment Design</h3>
                    <div class="content has-text-justified">
                        <p class="text-justify">
                            During the design phase of the NebulaSuit, we prioritized several key requirements. 
                            Foremost was comfortable experience, particularly regarding donning and doffing the suit.
                             We also had maintenance and testing considerations, wherein although the vibration units
                              would be discreetly integrated within the garment, they needed to remain readily accessible
                               for convenient reconfiguration and debugging. Therefore, we selected a long-sleeve 
                               compression shirt as the foundational garments for the suit.
                                Leveraging the inherent elasticity of compression fabrics allows for form-fitting designs,
                                 thereby facilitating direct skin contact. Vibration units were securely affixed to the garment.
                                  Three zippers were also incorporated into the suit by the tailor. One zipper was added to the
                                   body mid-line in the front and two zippers were added to the volar side of both sleeves to 
                                   facilitate convenient donning and doffing of the suit. In the user studies conducted later,
                                    we found that the donning and doffing process took less than one minute.
                        <p style="text-align:center; margin-top: 50px;" />
                    </div>
                </div>
            </div>
        </div>
        <!-- End Carousel -->

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
        <script>hljs.highlightAll();</script>
        
</body>

</html>